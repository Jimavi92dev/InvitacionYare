:root{
  --rose: #f7d9e6;
  --pink: #f3bfd3;
  --blush: #f0a6c1;
  --gold: #e3c371;
  --gold-deep:#a98735;
  --cream:#fff7ee;
  --bg:#fffdfb;
  --ink:#4b413d;
  --white:#ffffff;
  --shadow: 0 10px 30px rgba(203, 170, 120, .25);
  --ring: 0 0 0 4px rgba(227,195,113,.25);
}

/* Base */
*{ box-sizing:border-box; }
html,body{ margin:0; padding:0; background:var(--bg); color:var(--ink); font-family: "Marcellus", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial; }

/* Fondo con patrón y brillo */
.bg-pattern{
  position: fixed; inset: 0; z-index: -2; pointer-events: none; opacity:.55;
  background:
    radial-gradient(18px 18px at 20% 30%, rgba(255,255,255,.7), transparent 60%),
    radial-gradient(22px 22px at 80% 70%, rgba(255,255,255,.6), transparent 60%),
    repeating-linear-gradient(45deg, rgba(243,191,211,.12) 0 18px, rgba(247,217,230,.12) 18px 36px),
    linear-gradient(180deg, #fffefb, #fff8f5 60%, #fffaf7);
}

/* Pétalos flotando */
.petals{ position:fixed; inset:0; z-index:-1; list-style:none; margin:0; padding:0; pointer-events:none; }
.petals li{
  position:absolute; top:-20px; width:14px; height:10px; opacity:.6;
  background: radial-gradient(circle at 30% 30%, #fff, #f3bfd3 70%);
  border-radius: 10px 4px 10px 4px / 10px 4px 10px 4px;
  filter: blur(.2px);
  animation: fall 12s linear infinite;
}
.petals li:nth-child(odd){ background: radial-gradient(circle at 30% 30%, #fff, #f0a6c1 70%); }
@keyframes fall{
  0% { transform: translate3d(var(--x,0), -30px, 0) rotate(0deg); opacity: .0; }
  10%{ opacity:.8; }
  100%{ transform: translate3d(calc(var(--x,0) + 40px), 110vh, 0) rotate(220deg); opacity: .0; }
}
/* posiciones aleatorias */
.petals li:nth-child(1){ left:8%;  --x:-40px; animation-duration: 13s; }
.petals li:nth-child(2){ left:18%; --x:10px;  animation-duration: 12s; animation-delay:.6s; }
.petals li:nth-child(3){ left:28%; --x:-20px; animation-duration: 11s; animation-delay:1.2s; }
.petals li:nth-child(4){ left:40%; --x:30px;  animation-duration: 14s; animation-delay:.8s; }
.petals li:nth-child(5){ left:52%; --x:-30px; animation-duration: 12.5s; animation-delay:.4s; }
.petals li:nth-child(6){ left:62%; --x:20px;  animation-duration: 13.5s; animation-delay:1.4s; }
.petals li:nth-child(7){ left:72%; --x:-10px; animation-duration: 12s; animation-delay:1.8s; }
.petals li:nth-child(8){ left:82%; --x:22px;  animation-duration: 11.5s; animation-delay:.2s; }
.petals li:nth-child(9){ left:90%; --x:-24px; animation-duration: 13.2s; animation-delay:1.1s; }
.petals li:nth-child(10){left:4%;  --x:16px;  animation-duration: 12.8s; animation-delay:1.7s; }

/* HERO compacto con ornamentos */
.hero{
  position:relative; display:grid; justify-items:center; align-items:center;
  padding: 12px 12px 6px;
  background:
    radial-gradient(1000px 360px at 50% -220px, var(--cream), transparent 60%),
    linear-gradient(180deg, var(--rose), var(--bg) 62%);
  border-bottom: 6px solid rgba(227,195,113,.25);
  box-shadow: inset 0 -1px 0 rgba(227,195,113,.35);
  overflow:hidden;
}

/* Listones */
.ribbon{ position:absolute; top:0; width:160px; height:160px; opacity:.3; background:
  radial-gradient(closest-side, rgba(227,195,113,.8), rgba(227,195,113,.1) 70%, transparent 71%);
  filter: blur(2px);
}
.ribbon-left{ left:-30px; transform: rotate(-25deg); }
.ribbon-right{ right:-30px; transform: rotate(25deg); }

/* Bordes ornamentales */
.ornament-edge{ position:absolute; top:0; width:180px; height:80px; background:
  radial-gradient(closest-side, rgba(240,166,193,.55), transparent 70%),
  radial-gradient(closest-side, rgba(243,191,211,.55), transparent 75%);
  filter: drop-shadow(0 8px 14px rgba(179,87,133,.15));
  opacity:.8;
}
.ornament-edge.left{ left:0; border-bottom-right-radius: 60px; }
.ornament-edge.right{ right:0; border-bottom-left-radius: 60px; }

.hero-art{ width:min(520px, 88vw); height:min(180px, 34vw); display:flex; justify-content:center; align-items:center; }
.chalice{ width:36%; height:100%; }
.sparkles circle{ animation: twinkle 3s infinite ease-in-out; opacity:.8; }
.sparkles circle:nth-child(2){ animation-delay:.6s; }
.sparkles circle:nth-child(3){ animation-delay:1.2s; }
.sparkles circle:nth-child(4){ animation-delay:1.8s; }
@keyframes twinkle { 0%,100%{ transform:scale(.6); opacity:.35; } 50%{ transform:scale(1.15); opacity:1; } }

.hero-text{ text-align:center; margin-top:-2px; }

/* === Título con Cinzel Decorative + baño dorado y contorno sutil === */
.title{
  margin:0;
  font-family: "Cinzel Decorative", Georgia, serif;
  letter-spacing:.02em;
  line-height:1.02;
}
.title-top{
  display:block;
  font-weight:700;
  font-size: clamp(18px, 3.4vw, 28px);
  color:#a06a88;
  text-shadow: 0 1px 0 #fff, 0 10px 18px rgba(179,87,133,.25);
}
.title-main{
  display:block;
  font-weight:700;
  font-size: clamp(28px, 5vw, 52px);
  background: linear-gradient(90deg, #9c7a2a, #e3c371 30%, #c6a04b 60%, #9c7a2a);
  -webkit-background-clip:text; background-clip:text; color: transparent;
  filter: drop-shadow(0 1px 0 rgba(255,255,255,.5));
  /* contorno sutil */
  text-shadow:
    0 0 0.6px rgba(166,127,54,.6),
    0 8px 20px rgba(203,170,120,.3);
}

/* Nombre manuscrito */
.name{
  font-family: "Great Vibes", "Segoe Script", cursive;
  font-weight: 400;
  font-size: clamp(22px, 5vw, 38px);
  color:#b35785;
  letter-spacing:.5px;
  margin:.15rem 0 0;
  text-shadow: 0 1px 0 #fff, 0 10px 18px rgba(179,87,133,.25);
}

/* Cruz con latido */
.center-cross{ display:grid; place-items:center; margin-top: 6px; }
.center-cross svg{
  width:22px; height:22px; fill: var(--gold-deep);
  filter: drop-shadow(0 2px 8px rgba(203,170,120,.38));
  animation: heartbeat 2.8s ease-in-out infinite; transform-origin: center center;
}
@keyframes heartbeat{
  0%{ transform: scale(1); opacity: .95; }
  8%{ transform: scale(1.12); opacity: 1; }
  16%{ transform: scale(1.00); opacity: .95; }
  24%{ transform: scale(1.08); opacity: 1; }
  32%{ transform: scale(1.00); opacity: .95; }
  100%{ transform: scale(1); opacity: .95; }
}

/* Floritura dorada bajo el título */
.flourish{
  width:160px; height:16px; margin:8px auto 0;
  background:
    radial-gradient(closest-side, rgba(227,195,113,.8), transparent 70%),
    linear-gradient(90deg, transparent, rgba(227,195,113,.8), transparent);
  mask:
    radial-gradient(8px 8px at 10% 50%, #000 98%, transparent 100%),
    radial-gradient(8px 8px at 90% 50%, #000 98%, transparent 100%);
  -webkit-mask:
    radial-gradient(8px 8px at 10% 50%, #000 98%, transparent 100%),
    radial-gradient(8px 8px at 90% 50%, #000 98%, transparent 100%);
  opacity:.9;
}

/* ===== CARRUSEL ===== */
.carousel-wrap{ display:flex; justify-content:center; padding: 14px 16px 18px; }
.carousel{
  position:relative; width:min(960px, 92vw); aspect-ratio: 16/9;
  background: #fff; border-radius: 22px; box-shadow: var(--shadow);
  overflow:hidden; perspective: 1600px;
}
.floral-frame{
  border: 4px double rgba(227,195,113,.55);
  box-shadow: var(--shadow), inset 0 0 0 10px rgba(227,195,113,.12);
}
.frame-corner{ position:absolute; width:60px; height:60px; pointer-events:none; opacity:.9;
  background:
    radial-gradient(closest-side, rgba(240,166,193,.55), transparent 65%),
    radial-gradient(closest-side, rgba(243,191,211,.65), transparent 70%);
  filter: drop-shadow(0 6px 12px rgba(179,87,133,.15));
}
.frame-corner.tl{ left:-8px; top:-8px; border-top-left-radius: 60px; }
.frame-corner.tr{ right:-8px; top:-8px; border-top-right-radius: 60px; }
.frame-corner.bl{ left:-8px; bottom:-8px; border-bottom-left-radius: 60px; }
.frame-corner.br{ right:-8px; bottom:-8px; border-bottom-right-radius: 60px; }

.slide{
  position:absolute; inset:0; display:grid; place-items:center;
  backface-visibility:hidden; transform-origin: 0% 50%;
  opacity:0; pointer-events:none; transition: opacity .35s ease;
  background:
    linear-gradient(#fff, #fff) padding-box,
    repeating-linear-gradient(90deg, #f6f6f6, #f6f6f6 8px, #ffffff 8px, #ffffff 16px) border-box;
}
.slide.current{ opacity:1; pointer-events:auto; }
/* imagen completa sin recortes */
.slide img{ width:100%; height:100%; object-fit: contain; object-position:center; display:block; background:#fff; }

.slide.turning-next{ animation: flipNext 750ms ease forwards; }
.slide.turning-prev{ transform-origin: 100% 50%; animation: flipPrev 750ms ease forwards; }
@keyframes flipNext{ 0%{transform: rotateY(0deg);} 49%{transform: rotateY(-90deg);} 50%{opacity:0;} 100%{transform: rotateY(-180deg); opacity:0;} }
@keyframes flipPrev{ 0%{transform: rotateY(0deg);} 49%{transform: rotateY(90deg);} 50%{opacity:0;} 100%{transform: rotateY(180deg); opacity:0;} }

.nav{
  position:absolute; top:50%; transform: translateY(-50%);
  width:44px; height:44px; border-radius:50%; border:none;
  background:rgba(255,255,255,.9); box-shadow: 0 4px 10px rgba(0,0,0,.12);
  cursor:pointer; font-size:28px; line-height:44px; display:grid; place-items:center;
  transition: transform .15s ease, background .2s ease;
}
.nav:hover{ transform: translateY(-50%) scale(1.06); background:#fff; }
.prev{ left:10px; } .next{ right:10px; }

/* ===== PLAYER Y UBICACIONES (igual funcionalidad) ===== */
.actions{ display:grid; gap:16px; justify-items:center; padding: 12px 16px 32px; }
.player{
  width:min(960px, 92vw);
  background: linear-gradient(135deg, #fff, #fff7fb);
  border:2px solid rgba(227,195,113,.35);
  border-radius: 16px; box-shadow: var(--shadow);
  padding: 14px 16px;
  display:grid; grid-template-columns: auto 1fr; gap:14px; align-items:center;
}
.play-btn{
  width:54px; height:54px; border-radius:50%; border:none; cursor:pointer;
  background: linear-gradient(90deg, var(--blush), var(--pink)); color:#fff;
  box-shadow: var(--shadow);
  display:grid; place-items:center;
  transition: transform .15s ease, box-shadow .2s ease, filter .2s ease;
}
.play-btn:focus{ outline:none; box-shadow: var(--shadow), var(--ring); }
.play-btn:hover{ transform: scale(1.05); }
.icon{ width:22px; height:22px; display:block; }
.icon-pause{ display:none; }

.track{ display:grid; gap:8px; }
.meta{ display:flex; justify-content:space-between; font-weight:700; color:#7a5b3f; }
.song{ overflow:hidden; text-overflow:ellipsis; white-space:nowrap; padding-right:8px; }
#progress{
  appearance:none; width:100%; height:8px; border-radius:999px; background:#f1e6f0; outline:none;
  box-shadow: inset 0 1px 2px rgba(0,0,0,.05);
}
#progress::-webkit-slider-thumb{
  appearance:none; width:18px; height:18px; border-radius:50%;
  background: linear-gradient(90deg, var(--gold), var(--gold-deep));
  border: 2px solid #fff; box-shadow: 0 2px 8px rgba(0,0,0,.22);
  margin-top: -5px;
}
.eq{ display:flex; gap:4px; height:14px; align-items:flex-end; }
.eq span{ width:6px; height:6px; border-radius:2px; background: var(--gold-deep); opacity:.7; transform-origin: bottom; }
.player.playing .eq span{ animation: bounce 0.9s ease-in-out infinite; }
.eq span:nth-child(2){ animation-delay:.1s; }
.eq span:nth-child(3){ animation-delay:.2s; }
.eq span:nth-child(4){ animation-delay:.3s; }
.eq span:nth-child(5){ animation-delay:.4s; }
@keyframes bounce{ 0%,100%{ height:6px; } 50%{ height:14px; } }

.locations{ width:min(960px, 92vw); display:flex; flex-wrap:wrap; gap:12px; justify-content:center; }
.btn{
  position:relative; appearance:none; border:none; cursor:pointer;
  padding: 12px 18px; border-radius: 999px; font-weight:800; font-size: 15px;
  box-shadow: var(--shadow); text-decoration:none; display:inline-flex; align-items:center; gap:10px;
  transition: transform .15s ease, box-shadow .2s ease, background .2s ease, color .2s ease;
  color:#553f2a;
}
.btn:active{ transform: translateY(1px); }
.btn:hover{ box-shadow: 0 12px 26px rgba(203, 170, 120, .35); }
.btn .icon-wrap{
  width:28px; height:28px; border-radius:50%;
  display:grid; place-items:center; background: #fff; border:2px solid var(--gold);
  box-shadow: 0 2px 8px rgba(0,0,0,.08);
}
.btn.primary{ color:#fff; background: linear-gradient(90deg, var(--blush), var(--pink)); border:2px solid transparent; }
.btn.outline{ background:#fff; border:2px solid var(--gold); color: var(--gold-deep); }

/* Bendición con brillitos */
.blessing{ text-align:center; padding: 6px 12px 32px; color:#7a5b3f; font-weight:700; }
.blessing p{ margin: 12px auto 8px; max-width: 680px; }
.twinkles{ display:flex; gap:8px; justify-content:center; }
.twinkles span{ width:8px; height:8px; border-radius:50%; background: radial-gradient(circle at 35% 35%, #fff, #e3c371 70%); animation: twink 2.4s ease-in-out infinite; }
.twinkles span:nth-child(2){ animation-delay:.4s; }
.twinkles span:nth-child(3){ animation-delay:.8s; }
.twinkles span:nth-child(4){ animation-delay:1.2s; }
.twinkles span:nth-child(5){ animation-delay:1.6s; }
@keyframes twink{ 0%,100%{ transform:scale(.7); opacity:.5; } 50%{ transform:scale(1.1); opacity:1; } }

/* Responsivo */
@media (max-width: 520px){
  .hero-art{ height: 150px; }
  .chalice{ width:32%; }
  .nav{ width:40px; height:40px; font-size:24px; }
}

/* ==== CARRUSEL GRANDE EN MÓVILES (OVERRIDES) ==== */
@media (max-width: 768px) {
    /* Quitamos márgenes alrededor para usar todo el ancho */
    .carousel-wrap {
        padding: 0 !important;
    }

    /* Carrusel a pantalla casi completa y de borde a borde */
    .carousel {
        width: 100vw !important;
        max-width: 100vw !important;
        border-radius: 0 !important;
        /* En móviles conviene usar altura fija en viewport en lugar de aspect-ratio */
        aspect-ratio: auto !important;
        /* Fallbacks en orden (el último gana en navegadores modernos) */
        height: 74vh !important;
        height: 74svh !important; /* Small Viewport Units (iOS/Android modernos) */
        height: 74dvh !important; /* Dynamic Viewport (mejor al cambiar barra dirección) */
    }

    /* Aseguramos que la imagen se vea completa */
    .slide img {
        object-fit: contain !important;
        object-position: center center !important;
        background: #fff; /* “letterbox” blanco cuando no llena */
    }

    /* Botones de navegación más grandes y cómodos al dedo */
    .nav {
        width: 56px !important;
        height: 56px !important;
        font-size: 34px !important;
        top: 50% !important;
    }

    .prev {
        left: 8px !important;
    }

    .next {
        right: 8px !important;
    }

    /* Encabezado aún más compacto para darle más espacio al carrusel */
    .hero {
        padding: 10px 10px 4px !important;
    }

    .hero-art {
        height: 140px !important;
    }

    .chalice {
        width: 30% !important;
    }

    /* Un poco de espacio debajo del carrusel para que no choque con el player */
    .actions {
        padding-top: 10px !important;
    }
}

/* Muy pequeño (teléfonos 360–400px) -> un poco más alto */
@media (max-width: 420px) {
    .carousel {
        height: 78vh !important;
        height: 78svh !important;
        height: 78dvh !important;
    }

    .nav {
        width: 52px !important;
        height: 52px !important;
        font-size: 32px !important;
    }
}
